<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Release Strategy: An Interactive Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate 50 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: auto;
            height: 250px; /* Mobile height */
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px; /* Desktop height */
            }
        }
        .nav-link {
            transition: all 0.2s ease-in-out;
            position: relative;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #2196F3;
            transition: width 0.3s ease-in-out;
        }
        .nav-link.active {
            color: #2196F3;
            font-weight: 600;
        }
        .nav-link.active::after {
            width: 100%;
        }
        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #1976D2;
            cursor: pointer;
            border-radius: 50%;
            margin-top: -8px; /* Center thumb on the track */
        }
        .slider-thumb::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #1976D2;
            cursor: pointer;
            border-radius: 50%;
        }
        .root-cause-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4">
            <div class="relative flex items-center justify-center h-16">
                <!-- Centered Logo and Title -->
                <a href="#" class="flex items-center space-x-3">
                    <svg class="w-10 h-10 text-[#00A1E0]" viewBox="0 0 201 141" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Salesforce Logo">
                        <path d="M100.5 140.5C100.5 140.5 125.5 145.5 150.5 125.5C175.5 105.5 160.5 75.5 145.5 55.5C125.5 30.5 90.5 20.5 60.5 30.5C30.5 40.5 5.5 65.5 5.5 90.5C5.5 115.5 35.5 125.5 60.5 120.5C85.5 115.5 100.5 140.5 100.5 140.5Z" fill="#00A1E0"/>
                        <path d="M125.5 50.5C125.5 50.5 135.5 30.5 155.5 25.5C175.5 20.5 190.5 35.5 195.5 50.5C200.5 65.5 190.5 90.5 170.5 95.5C150.5 100.5 135.5 85.5 125.5 70.5C115.5 55.5 115.5 60.5 115.5 50.5C115.5 40.5 125.5 50.5 125.5 50.5Z" fill="#00A1E0"/>
                        <path d="M80.5 45.5C80.5 45.5 70.5 25.5 50.5 20.5C30.5 15.5 15.5 30.5 10.5 45.5C5.5 60.5 15.5 85.5 35.5 90.5C55.5 95.5 70.5 80.5 80.5 65.5C90.5 50.5 90.5 55.5 90.5 45.5C90.5 35.5 80.5 45.5 80.5 45.5Z" fill="#00A1E0"/>
                    </svg>
                    <span class="text-xl md:text-2xl font-bold text-[#0D47A1]">Salesforce Release Strategy</span>
                </a>
                
                <!-- Hamburger Menu Button -->
                <div class="absolute right-0">
                    <button id="mobile-menu-button" class="text-slate-700 hover:text-[#2196F3] focus:outline-none p-2 rounded-md">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
        </nav>
        <!-- Dynamic Menu -->
        <div id="mobile-menu" class="hidden absolute w-full md:w-auto md:top-16 md:right-4 bg-white/95 backdrop-blur-lg rounded-md shadow-lg border border-slate-200 z-50">
            <a href="#current-state" class="block py-2 px-5 text-slate-700 hover:bg-blue-50 rounded-t-md">Current State</a>
            <a href="#customer-impact" class="block py-2 px-5 text-slate-700 hover:bg-blue-50">Customer Impact</a>
            <a href="#competitors" class="block py-2 px-5 text-slate-700 hover:bg-blue-50">Competitors</a>
            <a href="#root-cause" class="block py-2 px-5 text-slate-700 hover:bg-blue-50">Root Cause</a>
            <a href="#path-forward" class="block py-2 px-5 text-slate-700 hover:bg-blue-50">Path Forward</a>
            <a href="#interactive-dashboard" class="block py-2 px-5 text-slate-700 hover:bg-blue-50 rounded-b-md">Dashboard</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="current-state" class="py-16">
            <div class="text-center max-w-4xl mx-auto">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">The Current State: A Triannual Machine</h2>
                <p class="text-lg text-slate-600 mb-8">Salesforce's core platform operates on a highly predictable, triannual release cycle. This model, a marvel of engineering logistics, provides stability and a clear roadmap. However, its rigidity is the source of a growing strategic conflict between Salesforce's operational reality and its customers' need for flexibility.</p>
                <div class="bg-white rounded-lg shadow-xl p-8 border border-slate-200">
                    <h3 class="text-2xl font-bold text-[#1976D2] mb-6">The Overlapping 11-Month Cycle</h3>
                    <div class="flex flex-col md:flex-row justify-between items-center space-y-8 md:space-y-0 text-center">
                        <div class="flex-1">
                            <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-200 to-blue-300 rounded-full flex items-center justify-center text-3xl font-bold text-[#0D47A1] shadow-inner">262</div>
                            <p class="font-semibold mt-2">Summer '27</p>
                            <p class="text-sm text-slate-500">Development</p>
                        </div>
                        <div class="text-4xl text-blue-300 hidden md:block px-4">&rarr;</div>
                        <div class="flex-1">
                             <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-300 to-blue-400 rounded-full flex items-center justify-center text-3xl font-bold text-[#0D47A1] shadow-inner">260</div>
                            <p class="font-semibold mt-2">Spring '27</p>
                             <p class="text-sm text-slate-500">Staggered Release</p>
                        </div>
                         <div class="text-4xl text-blue-300 hidden md:block px-4">&rarr;</div>
                        <div class="flex-1">
                             <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-3xl font-bold text-white shadow-inner">258</div>
                            <p class="font-semibold mt-2">Winter '26</p>
                            <p class="text-sm text-slate-500">Maintenance Mode</p>
                        </div>
                    </div>
                    <p class="mt-8 text-slate-600">At any given moment, three separate releases are in different stagesâ€”development, freeze, and rollout. This concurrent process ensures a continuous flow of innovation but leaves virtually no room for deviation from the master schedule.</p>
                </div>
            </div>
        </section>

        <section id="customer-impact" class="py-16 bg-white rounded-2xl shadow-lg border border-slate-200">
             <div class="text-center max-w-4xl mx-auto mb-12 px-4">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">A Collision Course with Customers</h2>
                <p class="text-lg text-slate-600">The rigidity of the release cycle creates significant friction with top-tier enterprise customers whose business-critical events do not align with Salesforce's calendar. Trip reports reveal a pattern of denied requests, escalating frustrations, and tangible risks to major accounts.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div>
                    <div class="space-y-4 px-4">
                        <button class="customer-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-[#2196F3] focus:outline-none focus:ring-2 focus:ring-[#2196F3] transition-all shadow-sm hover:shadow-md" data-customer="cvs">
                            <h4 class="font-bold text-lg text-[#1976D2]">CVS SBE: The Attrition Risk</h4>
                            <p class="text-sm text-slate-600">Denied request to shift release for telesales training, creating churn risk.</p>
                        </button>
                        <button class="customer-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-[#2196F3] focus:outline-none focus:ring-2 focus:ring-[#2196F3] transition-all shadow-sm hover:shadow-md" data-customer="hilti">
                             <h4 class="font-bold text-lg text-[#1976D2]">Hilti: The Quality & Communication Gap</h4>
                             <p class="text-sm text-slate-600">Unannounced, buggy Data Cloud patches caused production disruptions, eroding trust.</p>
                        </button>
                         <button class="customer-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-[#2196F3] focus:outline-none focus:ring-2 focus:ring-[#2196F3] transition-all shadow-sm hover:shadow-md" data-customer="swiggy">
                             <h4 class="font-bold text-lg text-[#1976D2]">Swiggy Instamart: The Critical Event</h4>
                             <p class="text-sm text-slate-600">Rejected request for a release moratorium during a critical mega-sale event.</p>
                        </button>
                        <button class="customer-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-[#2196F3] focus:outline-none focus:ring-2 focus:ring-[#2196F3] transition-all shadow-sm hover:shadow-md" data-customer="aws">
                            <h4 class="font-bold text-lg text-[#1976D2]">AWS APN: Multi-Tenant Conflict</h4>
                            <p class="text-sm text-slate-600">Upgrade for one customer on a shared instance blocked by other tenants' refusal.</p>
                        </button>
                        <button class="customer-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-[#2196F3] focus:outline-none focus:ring-2 focus:ring-[#2196F3] transition-all shadow-sm hover:shadow-md" data-customer="humana">
                            <h4 class="font-bold text-lg text-[#1976D2]">Humana Inc: Hyperforce Complications</h4>
                            <p class="text-sm text-slate-600">Hyperforce migration plans complicated by the rigid, unmovable release schedule.</p>
                        </button>
                    </div>
                </div>
                 <div class="p-4">
                     <div id="customer-display-wrapper">
                        <div id="customer-display" class="bg-slate-100 p-6 rounded-lg min-h-[250px] transition-all duration-300 border border-slate-200">
                             <h3 id="customer-name" class="text-2xl font-bold text-[#0D47A1]">Select a Customer Case</h3>
                             <p id="customer-details" class="mt-4 text-slate-700">Click on a customer to the left to see the details of their release-related challenges and the business impact.</p>
                        </div>
                    </div>
                 </div>
            </div>
        </section>

        <section id="competitors" class="py-16">
            <div class="text-center max-w-4xl mx-auto mb-12">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">The Competitive Landscape</h2>
                <p class="text-lg text-slate-600">While Salesforce's model excels at predictability, key competitors offer greater flexibility, leveraging different cadences and customer control models that are becoming key differentiators in the enterprise space.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-xl font-bold text-center text-[#0D47A1] mb-4">Major Release Cadence (per year)</h3>
                    <div class="chart-container">
                        <canvas id="competitorChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-xl font-bold text-center text-[#0D47A1] mb-4">Release Flexibility Scale</h3>
                    <div class="space-y-4 mt-8">
                        <!-- Flexibility Scale Items -->
                        <div class="flex items-center">
                            <span class="w-28 text-sm font-semibold text-slate-600">Salesforce</span>
                            <div class="flex-1 bg-slate-200 rounded-full h-4"><div class="bg-red-500 h-4 rounded-full" style="width: 20%"></div></div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-28 text-sm font-semibold text-slate-600">MS Dynamics</span>
                            <div class="flex-1 bg-slate-200 rounded-full h-4"><div class="bg-yellow-500 h-4 rounded-full" style="width: 60%"></div></div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-28 text-sm font-semibold text-slate-600">ServiceNow</span>
                            <div class="flex-1 bg-slate-200 rounded-full h-4"><div class="bg-yellow-500 h-4 rounded-full" style="width: 70%"></div></div>
                        </div>
                         <div class="flex items-center">
                            <span class="w-28 text-sm font-semibold text-slate-600">HubSpot</span>
                            <div class="flex-1 bg-slate-200 rounded-full h-4"><div class="bg-green-500 h-4 rounded-full" style="width: 90%"></div></div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-28 text-sm font-semibold text-slate-600">AWS</span>
                            <div class="flex-1 bg-slate-200 rounded-full h-4"><div class="bg-green-500 h-4 rounded-full" style="width: 100%"></div></div>
                        </div>
                        <div class="flex justify-between text-xs text-slate-500 mt-2">
                            <span>Rigid</span>
                            <span>On-Demand</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="root-cause" class="py-16">
            <div class="text-center max-w-4xl mx-auto mb-12">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">Root Cause: Why Is Flexibility So Hard?</h2>
                <p class="text-lg text-slate-600">The inability to accommodate customer requests isn't a matter of willingness, but of deep-seated technical and architectural constraints. Decades of success have created a complex system where change is inherently difficult and risky.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1: Monolithic Architecture -->
                <div class="bg-white rounded-lg shadow-lg p-6 border border-slate-200 text-center transition-all duration-300 root-cause-card">
                     <div class="w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-8 h-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" /></svg>
                     </div>
                    <h3 class="text-xl font-bold text-[#0D47A1] mb-2">Monolithic Architecture</h3>
                    <p class="text-slate-600">The core CRM application is a tightly coupled monolith. A change in one area can have unforeseen consequences elsewhere, making it impossible to update components independently or deviate from the unified release train.</p>
                </div>
                <!-- Card 2: Multi-Tenant Dependencies -->
                <div class="bg-white rounded-lg shadow-lg p-6 border border-slate-200 text-center transition-all duration-300 root-cause-card">
                    <div class="w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-8 h-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h6.375a.625.625 0 01.625.625v3.375c0 .345-.28.625-.625.625H9v-4.625zM9 14.25h6.375a.625.625 0 01.625.625v3.375c0 .345-.28.625-.625.625H9v-4.625z" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-[#0D47A1] mb-2">Multi-Tenant Dependencies</h3>
                    <p class="text-slate-600">Customers share infrastructure. As seen with AWS APN, upgrading one customer on an instance requires upgrading all others, necessitating unanimous agreement that is difficult or impossible to achieve.</p>
                </div>
                <!-- Card 3: Process & Policy Rigidity -->
                <div class="bg-white rounded-lg shadow-lg p-6 border border-slate-200 text-center transition-all duration-300 root-cause-card">
                    <div class="w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4">
                       <svg class="w-8 h-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-[#0D47A1] mb-2">Process & Policy Rigidity</h3>
                    <p class="text-slate-600">Years of optimizing for stability have resulted in rigid release policies. While effective at preventing chaos, these policies lack the mechanisms to handle valid exceptions for customers with critical business needs.</p>
                </div>
            </div>
        </section>

        <section id="path-forward" class="py-16 bg-white rounded-2xl shadow-lg border border-slate-200">
            <div class="text-center max-w-4xl mx-auto mb-12 px-4">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">The Path Forward: The "North Star" Vision</h2>
                <p class="text-lg text-slate-600">Internal strategy documents acknowledge these challenges. The long-term vision is a radical transformation from the current model to one of continuous, flexible, and customer-centric delivery.</p>
            </div>
             <div class="relative pl-8 border-l-4 border-[#64B5F6]">
                <div class="mb-12 relative">
                    <div class="absolute w-6 h-6 bg-[#1976D2] rounded-full -left-[14px] mt-1.5 border-4 border-white ring-4 ring-blue-300"></div>
                    <div class="pl-8">
                        <h3 class="text-2xl font-bold text-[#0D47A1]">Short-Term (Now - 12 Months)</h3>
                        <p class="text-slate-600 mt-2">Focus on communication and process alignment. Standardize release processes for all clouds (like Data Cloud), improve communication, and pilot minor schedule adjustments (+/- 1 week) for top customers on Hyperforce.</p>
                    </div>
                </div>
                <div class="mb-12 relative">
                    <div class="absolute w-6 h-6 bg-[#1976D2] rounded-full -left-[14px] mt-1.5 border-4 border-white"></div>
                     <div class="pl-8">
                        <h3 class="text-2xl font-bold text-[#0D47A1]">Mid-Term (1-3 Years)</h3>
                        <p class="text-slate-600 mt-2">Begin the technical transformation by aggressively investing in decoupling the monolith. This will require accepting short-term risks to stability and dedicating significant engineering resources, potentially diverting them from new feature development, to achieve long-term architectural health.</p>
                    </div>
                </div>
                <div class="relative">
                     <div class="absolute w-6 h-6 bg-[#1976D2] rounded-full -left-[14px] mt-1.5 border-4 border-white"></div>
                     <div class="pl-8">
                        <h3 class="text-2xl font-bold text-[#0D47A1]">Long-Term (3+ Years)</h3>
                        <p class="text-slate-600 mt-2">Achieve a future of autonomous updates where customers can choose a release cadence. Furthermore, AI will be leveraged to provide predictive analysis of release impacts on customer orgs, automating risk assessment and tailoring the upgrade experience.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="interactive-dashboard" class="py-16">
            <div class="text-center max-w-4xl mx-auto mb-12">
                <h2 class="text-4xl font-extrabold text-[#0D47A1] mb-4">Interactive Dashboard: The Strategic Trade-Offs</h2>
                <p class="text-lg text-slate-600">What would it take to increase customer flexibility? Use the sliders below to explore the trade-offs between release velocity, customer flexibility, and the required engineering investment. See how your decisions impact key outcomes.</p>
            </div>
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl border border-slate-200">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12">
                    <div>
                        <h3 class="text-2xl font-bold text-[#1976D2] mb-6">Control Levers</h3>
                        <div class="space-y-6">
                            <div>
                                <label for="velocity" class="font-semibold text-slate-700">Release Velocity</label>
                                <input id="velocity" type="range" min="1" max="100" value="20" class="w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer slider-thumb">
                                <div class="flex justify-between text-sm text-slate-500 mt-1">
                                    <span>Triannual</span>
                                    <span>Continuous</span>
                                </div>
                            </div>
                             <div>
                                <label for="flexibility" class="font-semibold text-slate-700">Customer Flexibility</label>
                                <input id="flexibility" type="range" min="1" max="100" value="10" class="w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer slider-thumb">
                                 <div class="flex justify-between text-sm text-slate-500 mt-1">
                                    <span>Rigid</span>
                                    <span>On-Demand</span>
                                </div>
                            </div>
                             <div>
                                <label for="investment" class="font-semibold text-slate-700">Engineering Investment</label>
                                <input id="investment" type="range" min="1" max="100" value="30" class="w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer slider-thumb">
                                 <div class="flex justify-between text-sm text-slate-500 mt-1">
                                    <span>Maintain</span>
                                    <span>Transform</span>
                                </div>
                            </div>
                        </div>
                         <div id="summaryBox" class="mt-8 p-4 rounded-lg border flex items-start space-x-3 transition-all">
                            <div id="summaryIcon" class="flex-shrink-0 pt-1"></div>
                             <div>
                                 <h4 id="summaryTitle" class="font-bold">Strategic Summary</h4>
                                 <p id="summaryText" class="mt-1 text-sm">Current state: A stable but inflexible model with moderate engineering investment. Customer satisfaction is at risk due to rigidity.</p>
                             </div>
                         </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-[#1976D2] mb-6">Projected Outcomes</h3>
                        <div class="chart-container h-80">
                            <canvas id="dashboardChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuLinks = mobileMenu.querySelectorAll('a');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Close menu when a link is clicked
            menuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // --- Customer Impact Section ---
            const customerData = {
                cvs: { name: 'CVS SBE: The Attrition Risk', details: 'CVS requested their Winter \'26 release be moved from October to August to align with their critical telesales training period. The request was denied due to the monolith\'s architecture, which prevents off-cycle upgrades. This created a significant risk of churn for a major account.' },
                hilti: { name: 'Hilti: The Quality & Communication Gap', details: 'Hilti, among other customers, experienced major production disruptions from unannounced and buggy Data Cloud patches. This highlighted a stark contrast with the mature Core release process, eroding trust due to a lack of documentation, predictability, and quality control.' },
                swiggy: { name: 'Swiggy Instamart: The Critical Event Conflict', details: 'Swiggy requested a release moratorium during their "Quick India Movement 2025" mega-sale, a business-critical event. The request was rejected based on policy, demonstrating the conflict between Salesforce\'s rigid schedule and customer\'s peak business periods.' },
                aws: { name: 'AWS APN: Multi-Tenant Conflict', details: 'The AWS APN (Partner Network) team, a Salesforce customer, was blocked from an essential upgrade because other customers on their shared instance refused to upgrade simultaneously. This multi-tenant dependency stalled progress for a key partner.'},
                humana: { name: 'Humana Inc: Hyperforce Complications', details: 'Major health insurer Humana faced significant planning challenges for their Hyperforce migration. The rigid, unmovable core release dates created conflicts with their complex, large-scale infrastructure project timelines, adding unnecessary risk.' }
            };

            const customerBtns = document.querySelectorAll('.customer-btn');
            const customerDisplayWrapper = document.getElementById('customer-display-wrapper');
            
            customerBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const customer = btn.dataset.customer;
                    const newHtml = `
                        <div id="customer-display" class="bg-slate-100 p-6 rounded-lg min-h-[250px] transition-all duration-300 border border-slate-200 fade-in">
                            <h3 id="customer-name" class="text-2xl font-bold text-[#0D47A1]">${customerData[customer].name}</h3>
                            <p id="customer-details" class="mt-4 text-slate-700">${customerData[customer].details}</p>
                        </div>`;
                    customerDisplayWrapper.innerHTML = newHtml;
                    customerBtns.forEach(b => b.classList.remove('bg-white', 'border-[#2196F3]', 'shadow-lg'));
                    btn.classList.add('bg-white', 'border-[#2196F3]', 'shadow-lg');
                });
            });

            // --- Charting Logic ---
            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) return label.join(' ');
                return label;
            };

            // Competitor Chart
            const competitorCtx = document.getElementById('competitorChart').getContext('2d');
            new Chart(competitorCtx, {
                type: 'bar',
                data: {
                    labels: ['Salesforce', 'MS Dynamics', 'ServiceNow', 'Adobe', 'Zoho', 'HubSpot', 'AWS'],
                    datasets: [{
                        label: 'Major Releases Per Year (Estimated)',
                        data: [3, 2, 2, 2, 12, 50, 1000], // Using high numbers for continuous
                        backgroundColor: ['#0D47A1', '#1976D2', '#2196F3', '#64B5F6', '#BBDEFB', '#90CAF9', '#E3F2FD'],
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { beginAtZero: true, type: 'logarithmic', ticks: {min: 0, max: 1000, callback: function(value, index, values){ if(value === 1000 || value === 100 || value === 10 || value === 0 || value === 2 || value === 3) {return value } else { return null } } } } }
                }
            });

            // Dashboard Chart
            const velocitySlider = document.getElementById('velocity');
            const flexibilitySlider = document.getElementById('flexibility');
            const investmentSlider = document.getElementById('investment');
            const summaryBox = document.getElementById('summaryBox');
            const summaryIcon = document.getElementById('summaryIcon');
            const summaryTitle = document.getElementById('summaryTitle');
            const summaryText = document.getElementById('summaryText');
            
            const dashboardCtx = document.getElementById('dashboardChart').getContext('2d');
            const dashboardChart = new Chart(dashboardCtx, {
                type: 'bar',
                data: {
                    labels: ['Customer Sat.', 'Release Stability', 'Innovation Speed', 'Eng. Cost'],
                    datasets: [{
                        label: 'Outcome Score',
                        data: [50, 90, 40, 30],
                        backgroundColor: ['#2196F3', '#0D47A1', '#64B5F6', '#f39c12']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, max: 100 } },
                    plugins: { legend: { display: false }, tooltip: { callbacks: { title: tooltipTitleCallback } } }
                }
            });

            const summaryStates = {
                warning: { title: "High Risk Scenario", icon: `<svg class="w-6 h-6 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126z" /></svg>`, classes: "bg-red-50 border-red-200" },
                goal: { title: "North Star Vision", icon: `<svg class="w-6 h-6 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" /></svg>`, classes: "bg-green-50 border-green-200" },
                balanced: { title: "Strategic Summary", icon: `<svg class="w-6 h-6 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a15.045 15.045 0 01-4.5 0m3.75 2.311a15.045 15.045 0 01-4.5 0M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>`, classes: "bg-blue-50 border-blue-200" }
            };

            function updateDashboard() {
                const velocity = parseInt(velocitySlider.value);
                const flexibility = parseInt(flexibilitySlider.value);
                const investment = parseInt(investmentSlider.value);
                let customerSat = (flexibility * 0.7) + (velocity * 0.1) + (investment * 0.2);
                let stability = Math.max(10, 100 - (velocity * 0.5) - (flexibility * 0.3) + (investment * 0.2));
                let innovation = (velocity * 0.6) + (investment * 0.4);
                let cost = (flexibility * 0.4) + (velocity * 0.2) + (investment * 0.8);
                dashboardChart.data.datasets[0].data = [customerSat, stability, innovation, cost].map(v => Math.min(100, Math.max(10, v)));
                dashboardChart.update();
                
                let state = summaryStates.balanced;
                let text = "A balanced approach. Adjust the levers to explore different strategies and their potential outcomes for Salesforce and its customers.";
                if (investment < 50 && flexibility > 50) { state = summaryStates.warning; text = "Attempting high customer flexibility without significant engineering investment leads to decreased stability and high risk of failure."; }
                else if (investment > 70 && flexibility > 70) { state = summaryStates.goal; text = "High investment enables a decoupled architecture, allowing for both rapid innovation and high customer flexibility without sacrificing stability."; }
                else if (velocity > 80 && investment < 60) { state = summaryStates.warning; text = "Pushing for continuous delivery without transforming the underlying architecture will severely compromise release stability."; }
                summaryBox.className = "mt-8 p-4 rounded-lg border flex items-start space-x-3 transition-all " + state.classes;
                summaryIcon.innerHTML = state.icon;
                summaryTitle.textContent = state.title;
                summaryText.textContent = text;
            }
            
            [velocitySlider, flexibilitySlider, investmentSlider].forEach(slider => slider.addEventListener('input', updateDashboard));
            
            // --- Active Nav Link Scrolling ---
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');
            const mainNavContainer = document.querySelector('header .hidden.md\\:flex');

            function updateActiveLink() {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.pageYOffset >= sectionTop - 80) { 
                        current = section.getAttribute('id'); 
                    }
                });

                if (mainNavContainer) {
                    const allNavLinks = mainNavContainer.querySelectorAll('a');
                    allNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${current}`) {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            window.addEventListener('scroll', updateActiveLink);
            
             // --- Initial State Calls ---
             customerBtns[0].click();
             updateDashboard();
             updateActiveLink(); // Set initial active link
        });
    </script>
</body>
</html>

